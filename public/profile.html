<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="profile.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <script src="profile.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
    <header class="header">
        <a href="#home" class="logo">
            <span>Attendify</span>

        </a>
        <i class='bx bx-menu' id="menu-icon"></i>

        <nav class="navbar">
            <a href="./home.html">Home</a>
            <a href="./Loginpage.html" > Log in</a>
            <a href="./SignUp.html" > Sign Up</a>
            <a href="./profile.html" class="active">Profile</a>
            <a href="./contactUs.html">Contact Us</a>
        </nav>
    </header>
   
    <section class="profile" id="profile">
        <div class="profile-box">
            <h2 class="heading">YOUR PROFILE</h2>
            <div class="wrappers">
                <div class="profile-item">
                    <div class="card">
                        <div class="card-inner">
                            <div class="card-front">
                                <img src="images/user.png" alt="profile-image" class="profile-image">
                                <div class="profile-info">
                                    <p id="userrole">Rol</p>
                                    <h1 id="username">Kullanıcı Adı</h1>
                                </div>
                            </div>
                            <div class="card-back">
                                <h3>Attendance Analysis</h3>
                                <canvas id="attendanceChart" width="400" height="400"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    

    <main id="main-content">
        <!-- Kullanıcı rolüne göre içerik JavaScript ile eklenecek -->
    </main>

    <div class="logout">
        <button id="logout-btn">Log Out</button>
    </div>

    <footer class="footer">
        <div class="social">
            <a href="https://www.instagram.com/attendifyweb"><i class='bx bxl-instagram' ></i></a>
            <a href="http://linkedin.com/in/attendify-web-a1458b342"><i class='bx bxl-linkedin-square' ></i></a>
            <a href="http://www.youtube.com/@AttendifyWeb"><i class='bx bxl-youtube' ></i></a> 
    
        </div>

        <ul class="list">
            <li>
                <a href="home.html">Home</a>
            </li>
            <li>
                <a href="SignUp.html">Sign Up</a>
            </li>
            <li>
                <a href="Loginpage.html">Log In</a>
            </li>
            <li>
                <a href="profile.html">Profile</a>
            </li>
            <li>
                <a href="contactUs.html">Contact Us</a>
            </li>
        </ul>
        <p class="copyright">@ Attendify | All Rights Reserved</p>
    </footer>
    <script>
        // Pasta dilimi grafiği için Chart.js ile veriler ve ayarlar
        window.onload = function () {
            var ctx = document.getElementById('attendanceChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'pie', // Pie chart type
        data: {
            labels: ['Present', 'Absent'], // Labels for attendance status
            datasets: [
                {
                    label: 'SENG209', // First class label (in Turkish)
                    data: [70, 30], // Attendance data for Ders 1
                    backgroundColor: ['#fa87f8', '#ffbefe'], // Colors for Present and Absent
                    borderColor: ['#fa87f8', '#ffbefe'],
                    borderWidth: 1
                },
                {
                    label: 'SENG211', // Second class label (in Turkish)
                    data: [80, 20], // Attendance data for Ders 2
                    backgroundColor: ['#3de35e', '#7c0000'], // Different colors for Ders 2
                    borderColor: ['#3de35e', '#7c0000'],
                    borderWidth: 1
                }
            ]
        },
        options: {
            responsive: false,  // Disable responsiveness
            maintainAspectRatio: true, // Keep the aspect ratio fixed
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    callbacks: {
                        // Custom tooltip callback to show class name along with percentage
                        label: function(tooltipItem) {
                            var datasetIndex = tooltipItem.datasetIndex;
                            var datasetLabel = tooltipItem.chart.data.datasets[datasetIndex].label;
                            var attendancePercentage = tooltipItem.raw;
                            return datasetLabel + ': ' + attendancePercentage + '%'; // Show class name and percentage
                        }
                    }
                }
            },
            hover: {
                // Set hover behavior
                mode: 'nearest',
                intersect: true,
                animationDuration: 400, // Animation duration
                onHover: function(event, chartElement) {
                    if (chartElement && chartElement.length > 0) {
                        var element = chartElement[0];
                        // Apply scaling on hover
                        element._model.scale = 7; // Increase size of hovered segment
                    }
                }
            }
        }
        
    });
        }
        function toggleFlip(cardElement) {
    // Kartın `card-inner` sınıfını alıyoruz
    const cardInner = cardElement.querySelector('.card-inner');
    
    // Eğer kart döndüyse, normal duruma getir
    if (cardInner.classList.contains('flipped')) {
        cardInner.classList.remove('flipped');
    } else {
        cardInner.classList.add('flipped');
    }
}


        // Hamburger menü kontrolü
        const menuIcon = document.getElementById('menu-icon');
const navbar = document.querySelector('.navbar');
menuIcon.addEventListener('click', () => {
    navbar.classList.toggle('active');
});
    </script>

    <script src="profile.js"></script>
</body>
</html>